"use strict";const storage={salvarFicha(){for(let t=0;t<celulasDeTodasGrades.length;t++)celulasDeTodasGrades[t].addEventListener("input",()=>localStorage.setItem(`trmhiv-cel${t}`,`${celulasDeTodasGrades[t].value}`)),celulasDeTodasGrades[t].value=localStorage.getItem(`trmhiv-cel${t}`)},salvarDadosAdicionais(){let t=document.querySelectorAll("div.container input[type=text], input[type=date], textarea#nota, input#nid, input#ano");t.forEach(t=>{function a(t){""!==t.value?t.classList.add("bold"):t.classList.remove("bold")}t.addEventListener("input",()=>localStorage.setItem(`trmhiv-${t.id}`,`${t.value}`)),t.value=localStorage.getItem(`trmhiv-${t.id}`),t.matches("#nota")&&(t.addEventListener("input",()=>a(t)),a(t))})},salvarDestaqueDeTotais(){readonlyCelsDarker.addEventListener("change",()=>{readonlyCelsDarker.checked?localStorage.setItem("trmhiv-destaque","on"):localStorage.removeItem("trmhiv-destaque")}),localStorage.getItem("trmhiv-destaque")&&(readonlyCelsDarker.setAttribute("checked",""),menu.destacarFundoDeTotais())}},totalizacao={filtrarCelulas(t){if(t.dataset.total0a14eixox){t.classList.add(`${t.dataset.total0a14eixox}`);let a=document.querySelectorAll(`.${t.dataset.total0a14eixox}`),e=document.querySelector(`.${t.dataset.total0a14eixoxoutput}`);this.totalizarCelulas(a,e)}if(t.dataset.total15oumaiseixox){t.classList.add(`${t.dataset.total15oumaiseixox}`);let l=document.querySelectorAll(`.${t.dataset.total15oumaiseixox}`),s=document.querySelector(`.${t.dataset.total15oumaiseixoxoutput}`);this.totalizarCelulas(l,s)}if(t.dataset.totalgeraleixox){t.classList.add(`${t.dataset.totalgeraleixox}`);let o=document.querySelectorAll(`.${t.dataset.totalgeraleixox}`),i=document.querySelector(`.${t.dataset.totalgeraleixoxoutput}`);this.totalizarCelulas(o,i)}if(t.dataset.total10a19eixox){t.classList.add(`${t.dataset.total10a19eixox}`);let r=document.querySelectorAll(`.${t.dataset.total10a19eixox}`),u=document.querySelector(`.${t.dataset.total10a19eixoxoutput}`);this.totalizarCelulas(r,u)}if(t.dataset.totaleixoy){t.classList.add(`${t.dataset.totaleixoy}`);let d=document.querySelectorAll(`.${t.dataset.totaleixoy}`),c=document.querySelector(`.${t.dataset.totaleixoyoutput}`);this.totalizarCelulas(d,c)}if(t.dataset.total0a14eixoy){t.classList.add(`${t.dataset.total0a14eixoy}`);let _=document.querySelectorAll(`.${t.dataset.total0a14eixoy}`),n=document.querySelector(`.${t.dataset.total0a14eixoyoutput}`);this.totalizarCelulas(_,n)}if(t.dataset.totalgeraleixoy){t.classList.add(`${t.dataset.totalgeraleixoy}`);let y=document.querySelectorAll(`.${t.dataset.totalgeraleixoy}`),x=document.querySelector(`.${t.dataset.totalgeraleixoyoutput}`);this.totalizarCelulas(y,x)}if(t.dataset.total15oumaiseixoy){t.classList.add(`${t.dataset.total15oumaiseixoy}`);let v=document.querySelectorAll(`.${t.dataset.total15oumaiseixoy}`),q=document.querySelector(`.${t.dataset.total15oumaiseixoyoutput}`);this.totalizarCelulas(v,q)}if(t.dataset.total10a19eixoy){t.classList.add(`${t.dataset.total10a19eixoy}`);let h=document.querySelectorAll(`.${t.dataset.total10a19eixoy}`),p=document.querySelector(`.${t.dataset.total10a19eixoyoutput}`);this.totalizarCelulas(h,p)}if(t.dataset.totalb11){t.classList.add(`${t.dataset.totalb11}`);let S=document.querySelectorAll(`.${t.dataset.totalb11}`),m=document.querySelector(`.${t.dataset.totalb11output}`);this.totalizarCelulas(S,m)}if(t.dataset.totalb11c0a14){t.classList.add(`${t.dataset.totalb11c0a14}`);let b=document.querySelectorAll(`.${t.dataset.totalb11c0a14}`),f=document.querySelector(`.${t.dataset.totalb11c0a14output}`);this.totalizarCelulas(b,f)}if(t.dataset.totalb11c15oumais){t.classList.add(`${t.dataset.totalb11c15oumais}`);let $=document.querySelectorAll(`.${t.dataset.totalb11c15oumais}`),L=document.querySelector(`.${t.dataset.totalb11c15oumaisoutput}`);this.totalizarCelulas($,L)}if(t.dataset.totalgeralb11){t.classList.add(`${t.dataset.totalgeralb11}`);let g=document.querySelectorAll(`.${t.dataset.totalgeralb11}`),A=document.querySelector(`.${t.dataset.totalgeralb11output}`);this.totalizarCelulas(g,A)}if(t.dataset.totalb11c10a19){t.classList.add(`${t.dataset.totalb11c10a19}`);let z=document.querySelectorAll(`.${t.dataset.totalb11c10a19}`),C=document.querySelector(`.${t.dataset.totalb11c10a19output}`);this.totalizarCelulas(z,C)}t.dataset.b13&&this.calcularLinhaB13(t),t.parentElement.dataset.b13&&this.calcularLinhaB13(t.parentElement);let D=document.querySelectorAll("div.inputs-container input[readonly]");for(let E of D)E.parentElement.dataset.b13&&this.calcularLinhaB13(E.parentElement)},totalizarCelulas(t,a){let e=0;for(let l of t)e+=Number(l.value);a.value=e},calcularLinhaB13(t){let a=t.dataset.b13.split("-m-"),e=document.querySelector(`.${a[0]}`),l=document.querySelector(`.${a[1]}`),s=document.querySelector(`.${a[2]}`),o=document.querySelector(`.${t.dataset.b13output}`);(""!==e.value||""!==l.value||""!==s.value)&&(o.value=Number(e.value)+Number(l.value)-s.value)}};function escutarEventos(){celulasDeTodasGrades.forEach(t=>{t.addEventListener("input",()=>totalizacao.filtrarCelulas(t)),""!=t.value&&totalizacao.filtrarCelulas(t)})}let celulasDeTodasGrades;window.addEventListener("load",()=>{celulasDeTodasGrades=document.querySelectorAll("div.inputs-container input"),"undefined"!=typeof Storage&&(storage.salvarFicha(),storage.salvarDadosAdicionais(),storage.salvarDestaqueDeTotais()),escutarEventos()});